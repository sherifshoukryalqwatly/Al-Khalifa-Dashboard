<div class="container-fluid">

    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
    <h4 class="fw-semibold mb-0 me-2 p-2">{{ 'PRODUCTS.TITLE' | translate }}</h4>

    <a class="btn btn-primary" routerLink="/products/add">
        <i class="bi bi-plus-circle me-2"></i>
        {{ 'PRODUCTS.ADD' | translate }}
    </a>
    </div>

    <!-- Filters -->
    <div class="card mb-4">
    <div class="card-body">
        <div class="row g-3">

        <div class="col-md-4">
            <input type="text" class="form-control" [placeholder]="'PRODUCTS.SEARCH' | translate" />
        </div>

        <div class="col-md-3">
            <select class="form-select">
            <option selected>{{ 'PRODUCTS.ALL_CATEGORIES' | translate }}</option>
            <option>{{ 'PRODUCTS.ELECTRONICS' | translate }}</option>
            <option>{{ 'PRODUCTS.FASHION' | translate }}</option>
            </select>
        </div>

        <div class="col-md-3">
            <select class="form-select">
            <option selected>{{ 'PRODUCTS.STATUS' | translate }}</option>
            <option>{{ 'PRODUCTS.ACTIVE' | translate }}</option>
            <option>{{ 'PRODUCTS.INACTIVE' | translate }}</option>
            </select>
        </div>

        <div class="col-md-2">
            <button class="btn btn-outline-secondary w-100">
            <i class="bi bi-funnel me-1"></i>{{ 'PRODUCTS.FILTER' | translate }}
            </button>
        </div>

        </div>
    </div>
    </div>

    <!-- Products Table -->
    <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
                <tr>
                <th>#</th>
                <th>{{ 'PRODUCTS.PRODUCT' | translate }}</th>
                <th>{{ 'PRODUCTS.CATEGORY' | translate }}</th>
                <th>{{ 'PRODUCTS.PRICE' | translate }}</th>
                <th>{{ 'PRODUCTS.STOCK' | translate }}</th>
                <th>{{ 'PRODUCTS.STATUS' | translate }}</th>
                <th class="text-end">{{ 'PRODUCTS.ACTIONS' | translate }}</th>
                </tr>
            </thead>
            <tbody>
                @for (product of products; track product.id) {
                    <tr>

                        <td>{{ product.id }}</td>

                        <td>
                            <img [src]="product.image" class="rounded" width="50" height="50" />
                            {{ product.name[currentLang] }}
                        </td>

                        <td>{{ product.category[currentLang] }}</td>

                        <td>${{ product.price }}</td>

                        <td>
                        <span class="badge" [ngClass]="getStockBadge(product.stockStatus)">
                            {{ getStockLabel(product.stockStatus) }}
                        </span>
                        </td>

                        <td>
                        <span class="badge bg-primary">
                            {{ getStatusLabel(product.status) }}
                        </span>
                        </td>

                        <td>
                        <a class="btn btn-sm btn-outline-secondary m-1" [routerLink]="['/products/details', product.id]">
                            <i class="bi bi-eye"></i>
                        </a>
                        <a class="btn btn-sm btn-outline-secondary m-1" [routerLink]="['/products/edit', product.id]">
                            <i class="bi bi-pencil"></i>
                        </a>
                        <button class="btn btn-sm btn-outline-danger m-1">
                            <i class="bi bi-trash"></i>
                        </button>
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>